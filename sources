DDK_BLOCK_ON_IA64=1
!IF "$(_BUILDARCH)" == "x86"
TARGETNAME=runassys32
!ELSEIF "$(_BUILDARCH)" == "AMD64"
TARGETNAME=runassys64
!ELSE
TARGETNAME=runassys
!ENDIF
TARGETPATH=obj
TARGETTYPE=PROGRAM
UNICODE=1

UMTYPE=console
USE_MSVCRT=1
USE_STL=1
STL_VER=70
USE_NATIVE_EH=1

# Use additional include file
USE_MAKEFILE_INC=1

# Create browse info
#BROWSER_INFO=1
#BROWSERFILE=<some path>
BUFFER_OVERFLOW_CHECKS=1
MSC_WARNING_LEVEL=/W4 /WX /wd4239

# Additional defines for the C/C++ preprocessor
!IF defined(UNICODE) && $(UNICODE)
UMENTRY=wmain
C_DEFINES=$(C_DEFINES) /DUNICODE /D_UNICODE /DDDKBUILD
!ELSE
UMENTRY=main
C_DEFINES=$(C_DEFINES) /DMBCS /D_MBCS /DDDKBUILD
!ENDIF

LINKER_FLAGS=$(LINKER_FLAGS) /pdbaltpath:%_PDB%

INCLUDES=$(DDK_INC_PATH);$(CRT_INC_PATH);$(SDK_INC_PATH)

TARGETLIBS=$(SDK_LIB_PATH)\kernel32.lib $(SDK_LIB_PATH)\advapi32.lib $(SDK_LIB_PATH)\userenv.lib $(SDK_LIB_PATH)\ntdll.lib

SOURCES=runassys.cpp \
        exeversion.rc

!IF "$(BUILD_PASS)" == "PASS2" || "$(BUILD_PASS)" == "PASSALL"
NTTARGETFILES=copybin
!ENDIF
